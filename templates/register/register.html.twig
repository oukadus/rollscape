{% extends 'landingBase.html.twig' %}

{% block title %}RollScape - Inscription{% endblock %}

{% block main %}

<div class="container">
    <div class="card mt-4 mb-3 shadow-sm p-2 mx-auto" style="width: 40%">
      <div class="card-header bg-white border-bottom pb-3">
        <h3 class="card-title mb-3 text-center display-6 fw-bolder">Créer un compte</h3>
        <p class="card-text text-muted text-center">Bienvenue sur RollScape ! Remplissez le formulaire suivant pour créer votre compte gratuit.</p>
      </div>
      <div class="card-body">
       {{ form_start(registerform, {'attr': {'novalidate': 'novalidate', 'data-turbo': 'false'}}) }}
        <div class="row mb-3">
            <div class="col-md-6 mb-3 mb-md-0">
              {{ form_row(registerform.firstname)}}
              </div>
            <div class="col-md-6">
              {{ form_row(registerform.lastname)}}
        </div>
        {{ form_row(registerform.email) }}
       <div class="mb-3">
  <label>{{ form_label(registerform.password.first) }}</label>
  <div class="input-group">
    {{ form_widget(registerform.password.first) }}
    <button class="btn btn-outline-secondary toggle-password" onclick="viewPassword('register_password_first', 'icon1')" type="button">
      <i class="bi bi-eye" id="icon1"></i>
    </button>
  </div>
  {{ form_errors(registerform.password.first) }}
</div>

<div class="mb-3">
  <label>{{ form_label(registerform.password.second) }}</label>
  <div class="input-group">
    {{ form_widget(registerform.password.second) }}
    <button class="btn btn-outline-secondary toggle-password" onclick="viewPassword('register_password_second', 'icon2')" type="button">
      <i class="bi bi-eye" id="icon2"></i>
    </button>
  </div>
  {{ form_errors(registerform.password.second) }}
</div>
       

        {{ form_row(registerform.submit)}}
        
        {{ form_end(registerform) }}
        </div>
      <div class="card-footer text-center py-3 border-top">
        <p class="mb-0 text-muted">
          Vous avez déjà un compte ? 
          <a href="{{path('app_login')}}" class="text-decoration-none text-rs-accent">Se connecter</a>
        </p>
      </div>
    </div>
  </div>

  <script>
    function viewPassword(inputId, iconId) {
      const input = document.getElementById(inputId);
      const icon = document.getElementById(iconId);

      if (input.type === 'password') {
        input.type = 'text';
        icon.classList.remove('bi-eye');
        icon.classList.add('bi-eye-slash');
      } else {
          input.type = 'password';
          icon.classList.remove('bi-eye-slash');
          icon.classList.add('bi-eye');
        }
    }

  </script>
{% endblock %}
